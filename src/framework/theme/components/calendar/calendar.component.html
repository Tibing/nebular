<ng-container [ngSwitch]="activeViewMode">
  <ng-container *ngSwitchCase="ViewMode.DATE">
    <nb-pageable-calendar-header
      (forward)="prevMonth()"
      (backward)="nextMonth()"
      (select)="selectViewMode(ViewMode.YEAR)"
    >
      {{ activeMonth | nbCalendarDate }}
    </nb-pageable-calendar-header>

    <div class="body">
      <nb-calendar-month-view
        *ngFor="let visibleMonth of visibleMonths"

        [activeMonth]="visibleMonth"
        [currentDate]="dateToday"
        [selectedValue]="selectedValue"
        [includeBoundingMonths]="calendarConfig.displayBoundingMonths"
        (change)="onChange($event)">
      </nb-calendar-month-view>
    </div>
  </ng-container>

  <ng-container *ngSwitchCase="ViewMode.YEAR">
    <nb-pageable-calendar-header
      (forward)="prevYears()"
      (backward)="nextYears()"
      (select)="selectViewMode(ViewMode.DATE)"
    >
      {{ activeMonth | nbCalendarDate }}
    </nb-pageable-calendar-header>

    <div class="body">
      <nb-calendar-year-picker
        [value]="activeMonth"
        [currentDate]="dateToday"
        [startYear]="yearViewActiveYear"
        [yearCount]="calendarConfig.yearsToDisplayNumber"
        (change)="activeMonth = $event; activeViewMode = ViewMode.MONTH">
      </nb-calendar-year-picker>
    </div>
  </ng-container>

  <ng-container *ngSwitchCase="ViewMode.MONTH">
    <nb-calendar-header (select)="selectViewMode(ViewMode.DATE)">
      {{ activeMonth | nbCalendarDate }}
    </nb-calendar-header>

    <div class="body">
      <nb-calendar-month-picker
        [value]="activeMonth"
        [currentDate]="dateToday"
        (change)="activeMonth = $event; activeViewMode = ViewMode.DATE">
      </nb-calendar-month-picker>
    </div>
  </ng-container>
</ng-container>

